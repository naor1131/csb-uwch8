{"version":3,"sources":["GifTv.tsx","App.tsx","index.tsx"],"names":["idleGifURL","GifTv","props","line","frameSrc","setFrameSrc","useState","useEffect","async","lineNo","searchTerm","text","split","reverse","find","word","rita","isStopWord","result","axios","url","data","embed_url","getData","className","width","height","title","src","App","audioRef","useRef","lyrics","lyricManager","setLyricManager","currentLine","setCurrentLine","b64DecodeUnicode","str","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","lrc","Lyric","onPlay","idx","newLine","current","onSetLyric","lines","setLyric","style","display","flexDirection","alignItems","justifyContent","ref","id","play","currentTime","onPause","pause","controls","marginTop","rootElement","document","getElementById","render"],"mappings":"sNAWA,MAAMA,EAAa,+BAEJ,SAASC,EAAMC,GAC5B,MAAM,KAAEC,GAASD,GACVE,EAAUC,GAAeC,mBAAiBN,GAqBjD,OAnBAO,qBAAU,MACRC,iBACE,GAAoB,IAAhBL,EAAKM,OACPJ,EAAYL,OACP,CAAC,IAAD,IACL,MAAMU,EAAaP,EAAKQ,KACrBC,MAAM,KACNC,UACAC,MAAMC,IAAUC,IAAKC,WAAWF,KAC7BG,QAAeC,IAAM,0CAAD,OACkBT,EADlB,2BAGpBU,EAAG,OAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAQG,YAAX,iBAAG,EAAcA,KAAK,UAAtB,aAAG,EAAuBC,UACnCjB,EAAW,OAACe,QAAD,IAACA,IAAOpB,IAGvBuB,KACC,CAACpB,IAGF,qBAAKqB,UAAU,MAAf,SACE,wBACEC,MAAM,QACNC,OAAO,QACPC,MAAO,QACPC,IAAKxB,MC3BE,SAASyB,IACtB,MAAMC,EAAWC,iBAAyB,MACpCC,EAASD,iBAAe,KACvBE,EAAcC,GAAmB5B,sBACjC6B,EAAaC,GAAkB9B,mBAAe,CACnDG,OAAQ,EACRE,KAAM,KAkCR,OA/BAJ,qBAAU,KACR,MAIM8B,EAAmB,SAAUC,GACjC,OAAOC,mBACLC,KAAKF,GACF1B,MAAM,IACN6B,KAAI,SAAUC,GACb,MAAO,KAAO,KAAOA,EAAEC,WAAW,GAAGC,SAAS,KAAKC,OAAO,MAE3DC,KAAK,MAINC,EAAM,IAAIC,IAAM,CACpBC,OAAQ,SAAUC,EAAa/C,GAC7B,MAAMgD,EAAU,CAAExC,KAAMqB,EAAOoB,QAAQF,GAAKvC,KAAMF,OAAQyC,GAC1Dd,EAAee,IAEjBE,WAAY,SAAUC,GACpBtB,EAAOoB,QAAUE,KAIrBP,EAAIQ,SAASlB,EAxBX,40GAwBwCA,EAtBxC,i6FAwBFH,EAAgBa,KACf,IAGD,qBAAKvB,UAAU,MAAf,SACGS,GACC,sBACET,UAAU,SACVgC,MAAO,CACLC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,UANpB,UASE,uBACEC,IAAK/B,EACLgC,GAAG,QACHlC,IAzDV,wFA0DUqB,OAAQ,KACFnB,EAASsB,SACXnB,EAAa8B,KAAoC,IAA/BjC,EAASsB,QAAQY,cAGvCC,QAAS,KACHnC,EAASsB,SACXnB,EAAaiC,SAIjBC,UAAQ,IAEV,qBAAK3C,UAAU,QAAQgC,MAAO,CAAEY,UAAW,QAA3C,SACE,cAACnE,EAAD,CAAOE,KAAMgC,MAEf,qBAAKX,UAAU,SAASgC,MAAO,CAAEY,UAAW,QAA5C,SACGjC,EAAYxB,YCpFzB,MAAM0D,EAAcC,SAASC,eAAe,QAC5CC,iBAAO,cAAC3C,EAAD,IAASwC,I","file":"static/js/main.5d98697d.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Line } from \"./App\";\r\n//@ts-ignore\r\nimport rita from \"rita\";\r\nimport \"./styles.css\";\r\n\r\ninterface gifProps {\r\n  line: Line;\r\n}\r\n\r\nconst idleGifURL = \"https://gifer.com/embed/757D\";\r\n\r\nexport default function GifTv(props: gifProps) {\r\n  const { line } = props;\r\n  const [frameSrc, setFrameSrc] = useState<string>(idleGifURL);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      if (line.lineNo === 0) {\r\n        setFrameSrc(idleGifURL);\r\n      } else {\r\n        const searchTerm = line.text\r\n          .split(\" \")\r\n          .reverse()\r\n          .find((word) => !rita.isStopWord(word));\r\n        const result = await axios(\r\n          `https://api.giphy.com/v1/gifs/search?q=${searchTerm}&api_key=dc6zaTOxFJmzC`\r\n        );\r\n        const url = result?.data?.data[0]?.embed_url;\r\n        setFrameSrc(url ?? idleGifURL);\r\n      }\r\n    }\r\n    getData();\r\n  }, [line]);\r\n\r\n  return (\r\n    <div className=\"gif\">\r\n      <iframe\r\n        width=\"480px\"\r\n        height=\"360px\"\r\n        title={\"GifTv\"}\r\n        src={frameSrc}\r\n      ></iframe>\r\n    </div>\r\n  );\r\n}\r\n","import \"./styles.css\";\n//@ts-ignore\nimport Lyric from \"lrc-file-parser\";\nimport GifTv from \"./GifTv\";\nimport { useEffect, useRef, useState } from \"react\";\n\nexport interface Line {\n  lineNo: number;\n  text: string;\n  translation?: string;\n}\n\nconst songSrc =\n  \"https://toside01-1251838060.cos.ap-guangzhou.myqcloud.com/lrc-file-parser%2Ftest2.mp3\";\n\nexport default function App() {\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const lyrics = useRef<Line[]>([]);\n  const [lyricManager, setLyricManager] = useState<Lyric>();\n  const [currentLine, setCurrentLine] = useState<Line>({\n    lineNo: 0,\n    text: \"\"\n  });\n\n  useEffect(() => {\n    const encodeLrc =\n      \"W2FyOlJpY2sgQXN0bGV5XQpbdGk6TmV2ZXIgR29ubmEgR2l2ZSBZb3UgVXBdCltieTpdCltoYXNoOjgzMjU0MzY5ZjIwMzU4OTE1NGFlYzAzZmU0MzZjYmEyXQpbYWw6XQpbc2lnbjpdCltxcTpdClt0b3RhbDoyMTI5NzZdCltvZmZzZXQ6MF0KWzAwOjAwLjQ4NV1SaWNrIEFzdGxleSAtIE5ldmVyIEdvbm5hIEdpdmUgWW91IFVwClswMDoxOS4zMTFdV2UncmUgbm8gc3RyYW5nZXJzIHRvIGxvdmUKWzAwOjIzLjIwNl1Zb3Uga25vdyB0aGUgcnVsZXMgYW5kIHNvIGRvIEkKWzAwOjI3LjQ5NV1BIGZ1bGwgY29tbWl0bWVudCdzIHdoYXQgSSdtIHRoaW5raW5nIG9mClswMDozMS43NDNdWW91IHdvdWxkbid0IGdldCB0aGlzIGZyb20gYW55IG90aGVyIGd1eQpbMDA6MzUuNzA5XUkganVzdCB3YW5uYSB0ZWxsIHlvdSBob3cgSSdtIGZlZWxpbmcKWzAwOjQwLjk4Ml1Hb3R0YSBtYWtlIHlvdSB1bmRlcnN0YW5kClswMDo0My4zOTNdTmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXAgIG5ldmVyIGdvbm5hIGxldCB5b3UgZG93bgpbMDA6NDguMTA0XU5ldmVyIGdvbm5hIHJ1biBhcm91bmQgYW5kIGRlc2VydCB5b3UKWzAwOjUyLjg1XU5ldmVyIGdvbm5hIG1ha2UgeW91IGNyeSAgbmV2ZXIgZ29ubmEgc2F5IGdvb2RieWUKWzAwOjU2LjM2Ml1OZXZlciBnb25uYSB0ZWxsIGEgbGllIGFuZCBodXJ0IHlvdQpbMDE6MDEuNTM4XVdlJ3ZlIGtub3duIGVhY2ggb3RoZXIgZm9yIHNvIGxvbmcKWzAxOjA1LjQ1MV1Zb3VyIGhlYXJ0J3MgYmVlbiBhY2hpbmcgYnV0IHlvdSdyZSB0b28gc2h5IHRvIHNheSBpdApbMDE6MDkuNzIxXUluc2lkZSB3ZSBib3RoIGtub3cgd2hhdCdzIGJlZW4gZ29pbmcgb24KWzAxOjEzLjc0OV1XZSBrbm93IHRoZSBnYW1lIGFuZCB3ZSdyZSBnb25uYSBwbGF5IGl0ClswMToxOC40MDNdQW5kIGlmIHlvdSBhc2sgbWUgaG93IEknbSBmZWVsaW5nClswMToyMy4xODBdRG9uJ3QgdGVsbCBtZSB5b3UncmUgdG9vIGJsaW5kIHRvIHNlZQpbMDE6MjUuNjg1XU5ldmVyIGdvbm5hIGdpdmUgeW91IHVwICBuZXZlciBnb25uYSBsZXQgeW91IGRvd24KWzAxOjI5Ljk3MV1OZXZlciBnb25uYSBydW4gYXJvdW5kIGFuZCBkZXNlcnQgeW91ClswMTozNC4xOTJdTmV2ZXIgZ29ubmEgbWFrZSB5b3UgY3J5ICBuZXZlciBnb25uYSBzYXkgZ29vZGJ5ZQpbMDE6MzguNzI4XU5ldmVyIGdvbm5hIHRlbGwgYSBsaWUgYW5kIGh1cnQgeW91ClswMTo0Mi42NzZdTmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXAgIG5ldmVyIGdvbm5hIGxldCB5b3UgZG93bgpbMDE6NDcuMTgxXU5ldmVyIGdvbm5hIHJ1biBhcm91bmQgYW5kIGRlc2VydCB5b3UKWzAxOjUxLjcxXU5ldmVyIGdvbm5hIG1ha2UgeW91IGNyeSAgbmV2ZXIgZ29ubmEgc2F5IGdvb2RieWUKWzAxOjU1LjU5NF1OZXZlciBnb25uYSB0ZWxsIGEgbGllIGFuZCBodXJ0IHlvdQpbMDI6MDAuOTE5XU9vaCBnaXZlIHlvdSB1cApbMDI6MDQuMzQ4XU9vaCBnaXZlIHlvdSB1cApbMDI6MDguNDY0XU9vaCBuZXZlciBnb25uYSBnaXZlICBuZXZlciBnb25uYSBnaXZlIGdpdmUgeW91IHVwClswMjoxMi41NTddT29oIG5ldmVyIGdvbm5hIGdpdmUgIG5ldmVyIGdvbm5hIGdpdmUgZ2l2ZSB5b3UgdXAKWzAyOjE3LjQ4OF1XZSd2ZSBrbm93biBlYWNoIG90aGVyIGZvciBzbyBsb25nClswMjoyMS43NzhdWW91ciBoZWFydCdzIGJlZW4gYWNoaW5nIGJ1dCB5b3UncmUgdG9vIHNoeSB0byBzYXkgaXQKWzAyOjI1Ljg2M11JbnNpZGUgd2UgYm90aCBrbm93IHdoYXQncyBiZWVuIGdvaW5nIG9uClswMjoyOS45ODVdV2Uga25vdyB0aGUgZ2FtZSBhbmQgd2UncmUgZ29ubmEgcGxheSBpdApbMDI6MzQuMjY5XUkganVzdCB3YW5uYSB0ZWxsIHlvdSBob3cgSSdtIGZlZWxpbmcKWzAyOjM5LjE5MV1Hb3R0YSBtYWtlIHlvdSB1bmRlcnN0YW5kClswMjo0MS45MTddTmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXAgIG5ldmVyIGdvbm5hIGxldCB5b3UgZG93bgpbMDI6NDYuMTg3XU5ldmVyIGdvbm5hIHJ1biBhcm91bmQgYW5kIGRlc2VydCB5b3UKWzAyOjUwLjQyM11OZXZlciBnb25uYSBtYWtlIHlvdSBjcnkgIG5ldmVyIGdvbm5hIHNheSBnb29kYnllClswMjo1NC43MTRdTmV2ZXIgZ29ubmEgdGVsbCBhIGxpZSBhbmQgaHVydCB5b3UKWzAyOjU4Ljg2OV1OZXZlciBnb25uYSBnaXZlIHlvdSB1cCAgbmV2ZXIgZ29ubmEgbGV0IHlvdSBkb3duClswMzowMy4xOF1OZXZlciBnb25uYSBydW4gYXJvdW5kIGFuZCBkZXNlcnQgeW91ClswMzowNy4yOTRdTmV2ZXIgZ29ubmEgbWFrZSB5b3UgY3J5ICBuZXZlciBnb25uYSBzYXkgZ29vZGJ5ZQpbMDM6MTEuNTQwXU5ldmVyIGdvbm5hIHRlbGwgYSBsaWUgYW5kIGh1cnQgeW91ClswMzoxNS44MTNdTmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXAgIG5ldmVyIGdvbm5hIGxldCB5b3UgZG93bgpbMDM6MTkuOTkyXU5ldmVyIGdvbm5hIHJ1biBhcm91bmQgYW5kIGRlc2VydCB5b3UKWzAzOjI0LjI1OF1OZXZlciBnb25uYSBtYWtlIHlvdSBjcnkgIG5ldmVyIGdvbm5hIHNheSBnb29kYnllClswMzoyOC40NjVdTmV2ZXIgZ29ubmEgdGVsbCBhIGxpZSBhbmQgaHVydCB5b3U=\";\n    const encodeTLrcText =\n      \"WzAwOjAwLjQ4NV0KWzAwOjE5LjMxMV3miJHku6zpg73kuI3mmK/mgYvniLHnmoTmlrDmiYsKWzAwOjIzLjIwNl3kvaDmiJHpg73mh4LlvpfpgqPkupvop4TliJkKWzAwOjI3LjQ5NV3miJHlj6rluIzmnJvlj6/ku6Xlhajlipvku6XotbQKWzAwOjMxLjc0M13kvaDkuI3kvJrku47lhbbku5bnlLfkurrpgqPph4zlvpfliLDov5nmoLfnmoTniLHmg4UKWzAwOjM1LjcwOV3miJHlj6rmg7PlkYror4nkvaDmiJHnmoTmhJ/lj5cKWzAwOjQwLjk4Ml3orqnkvaDmmI7nmb0KWzAwOjQzLjM5M13msLjov5zkuI3kvJrmlL7lvIPkvaAg5rC46L+c5LiN5Lya6K6p5L2g5aSx5pybClswMDo0OC4xMDRd5rC46L+c5LiN5Lya6YCD56a7IOaIluiAheaKm+W8g+S9oApbMDA6NTIuODVd5rC46L+c5LiN5Lya6K6p5L2g5rWB5rOqIOawuOi/nOS4jeS8muivtOWGjeingQpbMDA6NTYuMzYyXeawuOi/nOS4jeS8muivtOiwjiDkuI3kvJrkvKTlrrPkvaAKWzAxOjAxLjUzOF3miJHku6znm7jor4bkuobov5nkuYjkuYUKWzAxOjA1LjQ1MV3kvaDnmoTlv4Plvojnl5vkvYbljbTkuI3lpb3mhI/mgJ3lvIDlj6MKWzAxOjA5LjcyMV3lnKjmiJHku6znmoTlhoXlv4Pmt7HlpIQg5oiR5Lus6YO955+l6YGT5Y+R55Sf5LqG5LuA5LmIClswMToxMy43NDld5oiR5Lus6YO955+l6YGT54ix5oOF6KeE5YiZIOW5tuWHhuWkh+W8gOWniwpbMDE6MTguNDAzXeWmguaenOS9oOmXruaIkeeahOaEn+WPlwpbMDE6MjMuMTgwXeS4jeimgeWRiuivieaIkeS9oOeci+S4jeingQpbMDE6MjUuNjg1XeawuOi/nOS4jeS8muaUvuW8g+S9oCDmsLjov5zkuI3kvJrorqnkvaDlpLHmnJsKWzAxOjI5Ljk3MV3msLjov5zkuI3kvJrpgIPnprsg5oiW6ICF5oqb5byD5L2gClswMTozNC4xOTJd5rC46L+c5LiN5Lya6K6p5L2g5rWB5rOqIOawuOi/nOS4jeS8muivtOWGjeingQpbMDE6MzguNzI4XeawuOi/nOS4jeS8muivtOiwjiDkuI3kvJrkvKTlrrPkvaAKWzAxOjQyLjY3Nl3msLjov5zkuI3kvJrmlL7lvIPkvaAg5rC46L+c5LiN5Lya6K6p5L2g5aSx5pybClswMTo0Ny4xODFd5rC46L+c5LiN5Lya6YCD56a7IOaIluiAheaKm+W8g+S9oApbMDE6NTEuNzFd5rC46L+c5LiN5Lya6K6p5L2g5rWB5rOqIOawuOi/nOS4jeS8muivtOWGjeingQpbMDE6NTUuNTk0XeawuOi/nOS4jeS8muivtOiwjiDkuI3kvJrkvKTlrrPkvaAKWzAyOjAwLjkxOV3mlL7lvIPkvaAKWzAyOjA0LjM0OF3mlL7lvIPkvaAKWzAyOjA4LjQ2NF3nu53kuI3kvJog57ud5LiN5LyaIOe7neS4jeS8muaUvuW8g+S9oApbMDI6MTIuNTU3Xee7neS4jeS8miDnu53kuI3kvJog57ud5LiN5Lya5pS+5byD5L2gClswMjoxNy40ODhd5oiR5Lus55u46K+G5LqG6L+Z5LmI5LmFClswMjoyMS43Nzhd5L2g55qE5b+D5b6I55eb5L2G5Y205LiN5aW95oSP5oCd5byA5Y+jClswMjoyNS44NjNd5Zyo5oiR5Lus55qE5YaF5b+D5rex5aSEIOaIkeS7rOmDveefpemBk+WPkeeUn+S6huS7gOS5iApbMDI6MjkuOTg1XeaIkeS7rOmDveefpemBk+eIseaDheinhOWImSDlubblh4blpIflvIDlp4sKWzAyOjM0LjI2OV3miJHlj6rmg7PlkYror4nkvaDmiJHnmoTmhJ/lj5cKWzAyOjM5LjE5MV3orqnkvaDog73lpJ/kuobop6PmiJHnmoTlv4PmhI8KWzAyOjQxLjkxN13msLjov5zkuI3kvJrmlL7lvIPkvaAg5rC46L+c5LiN5Lya6K6p5L2g5aSx5pybClswMjo0Ni4xODdd5rC46L+c5LiN5Lya6YCD56a7IOaIluiAheaKm+W8g+S9oApbMDI6NTAuNDIzXeawuOi/nOS4jeS8muiuqeS9oOa1geazqiDmsLjov5zkuI3kvJror7Tlho3op4EKWzAyOjU0LjcxNF3msLjov5zkuI3kvJror7TosI4g5LiN5Lya5Lyk5a6z5L2gClswMjo1OC44Njld5rC46L+c5LiN5Lya5pS+5byD5L2gIOawuOi/nOS4jeS8muiuqeS9oOWkseacmwpbMDM6MDMuMThd5rC46L+c5LiN5Lya6YCD56a7IOaIluiAheaKm+W8g+S9oApbMDM6MDcuMjk0XeawuOi/nOS4jeS8muiuqeS9oOa1geazqiDmsLjov5zkuI3kvJror7Tlho3op4EKWzAzOjExLjU0MF3msLjov5zkuI3kvJror7TosI4g5LiN5Lya5Lyk5a6z5L2gClswMzoxNS44MTNd5rC46L+c5LiN5Lya5pS+5byD5L2gIOawuOi/nOS4jeS8muiuqeS9oOWkseacmwpbMDM6MTkuOTkyXeawuOi/nOS4jeS8mumAg+emuyDmiJbogIXmipvlvIPkvaAKWzAzOjI0LjI1OF3msLjov5zkuI3kvJrorqnkvaDmtYHms6og5rC46L+c5LiN5Lya6K+05YaN6KeBClswMzoyOC40NjVd5rC46L+c5LiN5Lya6K+06LCOIOS4jeS8muS8pOWus+S9oA==\";\n    const b64DecodeUnicode = function (str: string) {\n      return decodeURIComponent(\n        atob(str)\n          .split(\"\")\n          .map(function (c) {\n            return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n          })\n          .join(\"\")\n      );\n    };\n\n    const lrc = new Lyric({\n      onPlay: function (idx: number, line: string) {\n        const newLine = { text: lyrics.current[idx].text, lineNo: idx };\n        setCurrentLine(newLine);\n      },\n      onSetLyric: function (lines: Line[]) {\n        lyrics.current = lines;\n      }\n    });\n\n    lrc.setLyric(b64DecodeUnicode(encodeLrc), b64DecodeUnicode(encodeTLrcText));\n\n    setLyricManager(lrc);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {lyricManager && (\n        <div\n          className=\"layout\"\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          }}\n        >\n          <audio\n            ref={audioRef}\n            id=\"audio\"\n            src={songSrc}\n            onPlay={() => {\n              if (audioRef.current) {\n                lyricManager.play(audioRef.current.currentTime * 1000);\n              }\n            }}\n            onPause={() => {\n              if (audioRef.current) {\n                lyricManager.pause();\n              }\n            }}\n            //autoPlay\n            controls\n          ></audio>\n          <div className=\"gifTV\" style={{ marginTop: \"20px\" }}>\n            <GifTv line={currentLine} />\n          </div>\n          <div className=\"lyrics\" style={{ marginTop: \"20px\" }}>\n            {currentLine.text}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { render } from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nrender(<App />, rootElement);\n"],"sourceRoot":""}